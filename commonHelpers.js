import{a as p,i as c,S as f}from"./assets/vendor-eded45c0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const b=e=>e.map(({webformatURL:r,largeImageURL:o,tags:i,likes:t})=>`
          <div class="col gallery-item">
            <div class="card shadow-sm">
              <a href="${o}" class="gallery-link">
                <img src="${r}" alt="${i}" class="gallery-img img-fluid" />
              </a>
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
                  </div>
                  <small class="text-body-secondary">Likes: ${t}</small>
                </div>
              </div>
            </div>
          </div>`).join(""),L="43813609-98f1a5b8a61f7cd1a2ca10379",w="https://pixabay.com/api/",y=async(e="cat")=>{const r=new URLSearchParams({key:L,q:e,orientation:"horizontal",page:1,per_page:15});try{return(await p.get(`${w}?${r.toString()}`)).data}catch(o){throw new Error(`Error ${o.response.status}: ${o.response.statusText}`)}},v=document.querySelector(".js-search-form"),a=document.querySelector(".js-gallery"),l=document.querySelector(".js-load-more"),u=document.querySelector(".js-loader");let m,d="",n=1;l.classList.add("is-hidden");const S=async e=>{if(e.preventDefault(),d=e.target.elements.searchKeyword.value.trim(),d===""){a.innerHTML="",e.target.reset(),c.show({message:"Input field cannot be empty",position:"topRight",timeout:2e3,color:"red"});return}n=1,a.innerHTML="",l.classList.add("is-hidden"),u.classList.remove("is-hidden");try{const r=await y(d,n);g(r)}catch(r){console.error("Error fetching photos:",r),c.show({message:"An error occurred while fetching photos",position:"topRight",timeout:2e3,color:"red"})}finally{u.classList.add("is-hidden")}},E=async()=>{n+=1,u.classList.remove("is-hidden");try{const e=await y(d,n);g(e,!0)}catch(e){console.error("Error fetching photos:",e),c.show({message:"An error occurred while fetching photos",position:"topRight",timeout:2e3,color:"red"})}finally{u.classList.add("is-hidden")}},g=(e,r=!1)=>{if(!e.hits||e.hits.length===0){c.show({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight",timeout:2e3,color:"red"}),a.innerHTML="";return}const o=b(e.hits);r?a.insertAdjacentHTML("beforeend",o):a.innerHTML=o,m&&m.destroy(),m=new f(".js-gallery a",{captionDelay:250}),e.hits.length<15||n*15>=e.totalHits?(l.classList.add("is-hidden"),n*15>=e.totalHits&&c.show({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight",timeout:2e3,color:"blue"})):l.classList.remove("is-hidden");const i=document.querySelectorAll(".gallery-item");if(i.length>0){const t=i[0].getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}};v.addEventListener("submit",S);l.addEventListener("click",E);
//# sourceMappingURL=commonHelpers.js.map
